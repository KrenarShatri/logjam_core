<%= render "header" %>

<div id='requests'>
  <h3><%= @title %> <%= hpn("for") %> (<%= integer_number(@error_count) %>)</h3>
  <%= render "result_navigator" %>
  <table class='full_stats'>
    <tr><th>Time</th><th>Action</th><th>Description</th></tr>
    <% @exceptions.each do |r| %>
    <tr class='full_stats'>
      <% error_link_params = { :action =>"show", :id => Logjam::JsExceptions.request_id_from_exception(r) } %>
      <% logjam_action_link = r['logjam_action'].to_s.sub(/\A(.+?)::([^#]*)\z/, '\1') %>
      <td><%= clean_link_to(minute_to_human(r["minute"]), error_link_params, :title => "show exception") %></td>
      <td><%= clean_link_to(r['logjam_action'], { :action => "index", :grouping => "page", :page => logjam_action_link }, :title => "show page stats") %></td>
      <td><%= r["description"] %></td>
    </tr>
    <% end %>
  </table>
</div>
